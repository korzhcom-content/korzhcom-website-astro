<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="icon" type="image/ico" sizes="32x32" href="/favicon.ico">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

<title>Using TypeScript with WebPack in ASP.NET Core projects</title>

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="title" content="Using TypeScript with WebPack in ASP.NET Core projects">


<!-- Open Graph Tags (Facebook) -->
<meta property="og:type" content="website">
<meta property="og:title" content="Using TypeScript with WebPack in ASP.NET Core projects">




<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" content="Using TypeScript with WebPack in ASP.NET Core projects">




<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-TTN7QK6N6X"></script>


<script src="/js/metro.js"></script>




<link rel="stylesheet" href="/_astro/_slug_.NHWVdc-k.css" />
<style>.blog-image{max-height:400px;object-fit:cover}.app-bar{border-bottom:1px solid #a6a6a6!important}
</style><script type="module" src="/_astro/hoisted.Tyi_N6BS.js"></script></head>
<body class="m4-cloak" style="padding-top:52px">
    <section class="container-fluid bg-white fg-dark pos-fixed z-fixed p-0" style="top: 0; left:0; right: 0;">
    <nav class="container bg-transparent pos-relative p-0" data-role="appbar" data-expand-point="xl">
        <a href="/" class="brand no-hover"><img src="/_astro/korzh_logo.S67Im8d7_2d6AAJ.webp" alt="Logo" width="270" height="53" loading="lazy" decoding="async"></a>

        <ul class="app-bar-menu ml-auto">
            <li>
                <a href="#" class="dropdown-toggle">EASYQUERY</a>
                <ul class="d-menu place-right" data-role="dropdown">
                    <li><a href="/easyquery">EASYQUERY.NET</a></li>
                    <li><a href="/easyquery/javascript">EASYQUERY.JS</a></li>
                    <li><a href="/easy-report-starter-kit">EASYREPORT STARTER KIT</a></li>
                </ul>
            </li>
            <li><a href="/metroui">METRO UI</a></li>
            <li><a href="/localizer">LOCALIZER</a></li>
            <li><a href="/blog">BLOG</a></li>
            <li><a href="/support" slow-loading>SUPPORT</a></li>
            <li>
                <a href="#" class="dropdown-toggle">DOCS</a>
                <ul class="d-menu place-right" data-role="dropdown">
                    <li><a href="/easyquery/docs" slow-loading>EASYQUERY.NET</a></li>
                    <li><a href="/easyquery/javascript/docs" slow-loading>EASYQUERY.JS</a></li>
                    <li><a href="/easy-report-starter-kit/docs" slow-loading>EASY REPORT STARTER KIT</a></li>
                    <li class="divider"></li>
                    <li><a href="/localizer/docs" slow-loading>LOCALIZER</a></li>
                    <li class="divider"></li>
                    <li><a href="https://metroui.org.ua/intro.html">METRO UI</a></li>
                </ul>
            </li>
            <li><a href="/account" slow-loading><span class="mif-user mr-2"></span>ACCOUNT</a></li>
        </ul>
    </nav>
</section>

    <main>
        
    <section class="container-fluid mb-4 border-top bd-default">
        <div class="container pl-0 pr-0">

            <div class="row mt-4">
                <div class="cell-md-9">
                    <div class="pr-10">
                        <h1 class="post-title text-bold">Using TypeScript with WebPack in ASP.NET Core projects</h1>
                        <div class="mb-4 text-muted reduce-1 d-flex flex-row">
                            <span>Category: </span><a class="category ml-2" href="/blog/categories/general">general</a>
                            <div class="ml-auto">19, Apr 2022 &bull; 1 min read</div>
                        </div>

                        <img src="/images/tswebpack-cover.jpg" class="post-cover" alt="Alt text" width="1200" height="100" loading="lazy" decoding="async">

                        <div class="post-content mt-4">
                            
    <h2 id="motivation">Motivation</h2>
<p>Suppose you work on ASP.NET Core web application that solves some business-related tasks. You know, a few forms where users enter their data and get some reports. Although such a project may not require any complex logic on the client, you still probably need to write some JavaScript code to make user interaction with your application more convenient and enjoyable. For example, you may need a simple prompt popup on item deletion since it’s not quite right to use a separate page for that. Or, you want to do client-side validation. Or … it really can be any other client-side task, you name it.</p>
<p>Of course, you can add a few lines of script on each page (with vanilla JavaScript or using the good old JQuery) but it is really hard to maintain all these small pieces when your project gets bigger. Moreover, some of these pieces do the same things, so you either need to replicate them in many places (bad decision) or you end up creating a small library that contains all client-side functions, structures, and classes used in your project.</p>
<p>This article describes how to create such a JS library for your ASP.NET Core project with minimal effort and in a way that will provide better support for further changes.</p>
<h2 id="solution">Solution</h2>
<p>Long story short, we are going to put all our client-side code to separate files (with classes, functions, data structures) and then bundle them with the help of WebPack 5. The resulting script can be included right into your _Layout.cshtml (so, it will be available on all pages of your web app) or you can include it only on the pages where it’s necessary.</p>
<p>Moreover, we will use TypeScript instead of pure JavaScript because, you know, static typing is good and it allows us to catch a lot of errors at compile time.</p>
<p>In addition, you can consider this article as a quick introduction to client-side development. Especially if you are a .NET developer who still tends to stay backend-only and who is afraid of all that fancy client-side stuff (as I was some time ago).</p>
<h2 id="getting-started">Getting started</h2>
<p>Here we will describe the steps necessary to set up the configuration for bundling a small TypeScript library with your own code. For the sake of simplification, this library will contain just one function for now.</p>
<h3 id="0-install-nodejs">0. Install Node.JS</h3>
<p>I’m pretty much sure you already have it installed. In case you don’t - please do it. We will need Node.JS version 10.13.0 (or newer) on your dev/build machine.</p>
<h3 id="1-clientscript-sub-folder">1. ClientScript sub-folder</h3>
<p>We will put all our scripts and configuration files into a separate sub-folder ClientScript of your main project’s folder. It’s similar to ClientApp sub-folder used in most of the SPA (single page application) templates available for ASP.NET Core.</p>
<h3 id="2-add-configuration-files">2. Add configuration files</h3>
<p>We will need 3 configuration files:</p>
<ul>
<li>package.json - to define our bundle and all dependencies,</li>
<li>webpack.config.js - for WebPack configuration</li>
<li>tsconfig.json - for TypeScript settings.</li>
</ul>
<p>For now, you can just copy these files as-is. We will describe each of them later.</p>
<p><em>package.json</em></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">name</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">myapp-client-bundle</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">version</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">1.0.0</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">description</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">This is client-side scripts bundle for MyApp</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">private</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">scripts</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">build</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">webpack --mode=development</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">build:prod</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">webpack --mode=production</span><span style="color:#E9F284">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2">  },</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">devDependencies</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">ts-loader</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">^9.2.5</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">typescript</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">^4.4.3</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">webpack</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">^5.52.1</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">webpack-cli</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">^4.8.0</span><span style="color:#E9F284">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2">  },</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">dependencies</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p><em>webpack.config.js</em></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> path </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> require</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">path</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">module</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">exports</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">  entry</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">./src/index.ts</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">  module</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    rules</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span></span>
<span class="line"><span style="color:#F8F8F2">      {</span></span>
<span class="line"><span style="color:#F8F8F2">        test</span><span style="color:#FF79C6">:</span><span style="color:#FF5555"> /</span><span style="color:#F1FA8C">\.tsx</span><span style="color:#FF79C6">?$</span><span style="color:#FF5555">/</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        use</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">ts-loader</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        exclude</span><span style="color:#FF79C6">:</span><span style="color:#FF5555"> /</span><span style="color:#F1FA8C">node_modules</span><span style="color:#FF5555">/</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">      },</span></span>
<span class="line"><span style="color:#F8F8F2">    ],</span></span>
<span class="line"><span style="color:#F8F8F2">  },</span></span>
<span class="line"><span style="color:#F8F8F2">  resolve</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    extensions</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">.tsx</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">.ts</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">.js</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#F8F8F2">  },</span></span>
<span class="line"><span style="color:#F8F8F2">  output</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    library</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">      name</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">MYAPP</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">      type</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">var</span><span style="color:#E9F284">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2">    },</span></span>
<span class="line"><span style="color:#F8F8F2">    filename</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">app-client.js</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    path</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> path.</span><span style="color:#50FA7B">resolve</span><span style="color:#F8F8F2">(__dirname, </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">../wwwroot/js</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">};</span></span></code></pre>
<p><em>tsconfig.json</em></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#8BE9FE">  &quot;</span><span style="color:#8BE9FD">compilerOptions</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">outDir</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">./dist/</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">noImplicitAny</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">module</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">es6</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">target</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">es5</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">allowJs</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">moduleResolution</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">node</span><span style="color:#E9F284">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h3 id="3-add-typescript-files">3. Add TypeScript files</h3>
<p>For the sake of simplicity, our library in this initial stage will contain only one function hello() that simply prints Hello world to the browser’s console. Here are two files we need for that outstanding :) functionality:</p>
<h4 id="hellots">hello.ts</h4>
<p>This file contains our function packed into the funcs namespace, so we will be able to call it as MYAPP.funcs.hello()</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> namespace</span><span style="color:#8BE9FD;font-style:italic"> funcs</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">    export</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> hello</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> void</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">        const</span><span style="color:#F8F8F2"> message </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">Hello world!</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(message);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h4 id="indexts">index.ts</h4>
<p>This is our entry point. This TypeScript file will not contain any functions or classes. It will just define which parts of our code (functions, interfaces, classes, etc) we are going to expose to the outside world. Since we have only one file with “real” functionality our index.ts will as simple as:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> *</span><span style="color:#FF79C6"> from</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">./hello</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span></code></pre>
<p>and it means that we would to “reveal” all public (exported) parts inside our <code>hello.ts</code></p>
<h3 id="4-build-your-library">4. Build your library</h3>
<p>That’s it. We are ready to build our bundle script. To do so, open your terminal program, move to <code>ClientScript</code> folder and run the following 2 commands:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#50FA7B">npm</span><span style="color:#F1FA8C"> install</span></span></code></pre>
<p>and then</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#50FA7B">npm</span><span style="color:#F1FA8C"> run</span><span style="color:#F1FA8C"> build</span></span></code></pre>
<p>The first one will install all necessary NPM libraries (the ones which are listed in the <code>dependencies</code> and <code>devDependencies</code> sections of your <code>package.json</code>). You will need to run it before the first build and then only when you add a new dependency (another NPM package) to your <code>package.json</code>.</p>
<p>The second command actually runs WebPack that compiles (or, to be more correct, “transpiles”) your TypeScript files to JavaScript, then bundles all JS code into one file <code>app-client.js</code> and puts that file into <code>wwwroot/js</code> folder of your web project as defined in <code>webpack.config.js</code> configuration file.</p>
<p>According to the <code>output/library</code> section of that file, all functions or structures of your new bundle will be accessible via the <code>MYAPP</code> global variable.</p>
<h3 id="5-attach-the-final-script-to-your-app">5. Attach the final script to your app</h3>
<p>To use our script you just need to include it on your page as any other JS file:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&lt;</span><span style="color:#FF79C6">script</span><span style="color:#50FA7B;font-style:italic"> src</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">/js/app-client.min.js</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">&gt;&lt;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">&gt;</span></span></code></pre>
<p>You can add that line either to the <code>_Layout.cshtml</code> (to make it available on all pages of your web application) or to the view or Razor page where it’s necessary.</p>
<p>Now you can call the function(s) from our new JS library:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&lt;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">&gt;</span></span>
<span class="line"><span style="color:#BD93F9">MYAPP</span><span style="color:#F8F8F2">.funcs.</span><span style="color:#50FA7B">hello</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">&lt;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">&gt;</span></span></code></pre>
<h2 id="configuring-the-scope">Configuring the scope</h2>
<p>One of the great features of using TypeScript and WebPack is organizing your code in modules and then combining those modules into namespaces using WebPack’s configuration and TypeScript’s <code>namespace</code> structure.</p>
<p>There are several possible options.</p>
<h3 id="1-use-module-names-and-their-aliases">1. Use module names and their aliases</h3>
<p>You can put functions and classes in a module and export that module either “as-is” or with an alias.</p>
<p>For example, if we have the following module:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> Dialog</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">    ...</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> showDialog</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">    ...</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>and we use this export declaration in our <code>index.ts</code>:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> *</span><span style="color:#FF79C6"> from</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">./dialogs</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span></code></pre>
<p>then our <code>Dialog</code> class and <code>showDialog()</code> function will be available right under <code>MYAPP</code> namespace as <code>MYAPP.Dialog</code> and <code>MYAPP.showDialog()</code>.</p>
<p>You can also specify an alias for that <code>dialogs</code> module:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> *</span><span style="color:#FF79C6"> as</span><span style="color:#F8F8F2"> dlg </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">./dialogs</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span></code></pre>
<p>Now our class and the function will be accessible as <code>MYAPP.dlg.Dialog</code> and <code>MYAPP.dlg.showDialog()</code> correspondingly.</p>
<h3 id="2-using-namespace-clause">2. Using namespace clause</h3>
<p>You can also use the namespace clause and then re-export the imported modules, so all functions, variables, and types that belong to the same namespace even in different modules will be merged together.</p>
<p>For example, we have the following two modules:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> namespace</span><span style="color:#8BE9FD;font-style:italic"> ui</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">    export</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> Dialog1</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">        ...</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    export</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> showDialog1</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">        ...</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>and</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> namespace</span><span style="color:#8BE9FD;font-style:italic"> ui</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">  export</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> Widget1</span><span style="color:#F8F8F2"> { </span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">  export</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> renderWidget1</span><span style="color:#F8F8F2">() { </span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2"> }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>w, if we place the following two lines in our <code>index.ts</code> module:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> *</span><span style="color:#FF79C6"> from</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">./dialogs</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> *</span><span style="color:#FF79C6"> from</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">./widgets</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span></code></pre>
<p>we will be able to access all those exported functions and classes under the <code>MYAPP.ui</code> namespace. For example: <code>MYAPP.ui.renderWidget1()</code>.</p>
<h2 id="using-third-party-libraries">Using third-party libraries</h2>
<p>Maybe the most significant advantage of this setup (that may seem a little complicated for just a “hello world” function) is the possibility to use any third-party JS library from hundred of thousands available on NPM repository.</p>
<p>As an example, we slightly modify our <code>hello()</code> function so that it will take a parameter <code>name</code> and will print the phrase <code>Hello, {name}</code> to the console. Before printing, the string stored in the name variable will be capitalized with the help of <code>capitalize()</code> function from the well-known <code>lodash</code> library.</p>
<p>Here are the steps we should take to achieve this goal:</p>
<h3 id="1-add-lodash-library-to-your-packagejson">1. Add lodash library to your package.json</h3>
<p>Just open a terminal inside your ClientScript folder and type:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#50FA7B">npm</span><span style="color:#F1FA8C"> install</span><span style="color:#F1FA8C"> lodash</span></span></code></pre>
<p>As the result of this operation, you will see something like the following in the dependencies section of your package.json file:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">dependencies</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">: {</span></span>
<span class="line"><span style="color:#8BE9FE">    &quot;</span><span style="color:#8BE9FD">lodash</span><span style="color:#8BE9FE">&quot;</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">^4.17.21</span><span style="color:#E9F284">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>(the actual version number can be different).</p>
<h3 id="2-import-lodash-functions-in-your-hellots-file">2. Import lodash functions in your hello.ts file</h3>
<p>Add the following line at the beginning of hello.ts:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">import</span><span style="color:#BD93F9"> *</span><span style="color:#FF79C6"> as</span><span style="color:#F8F8F2"> _ </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">lodash</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">;</span></span></code></pre>
<h3 id="3-modify-hello-function">3. Modify hello() function</h3>
<p>Now we can use all lodash library functions using _ global variable (this is the default way of using lodash functions since the times it was not an NPM library). So, our hello function will look the following:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> hello</span><span style="color:#F8F8F2">(</span><span style="color:#FFB86C;font-style:italic">name</span><span style="color:#FF79C6"> :</span><span style="color:#8BE9FD;font-style:italic"> string</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> void</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">  const</span><span style="color:#F8F8F2"> message </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> &#39;</span><span style="color:#F1FA8C">Hello, </span><span style="color:#E9F284">&#39;</span><span style="color:#FF79C6"> +</span><span style="color:#F8F8F2"> _.</span><span style="color:#50FA7B">capitalize</span><span style="color:#F8F8F2">(name);</span></span>
<span class="line"><span style="color:#F8F8F2">  console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(message);</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>Additionally, we will modify the function call on our page:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&lt;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">&gt;</span></span>
<span class="line"><span style="color:#BD93F9">MYAPP</span><span style="color:#F8F8F2">.funcs.</span><span style="color:#50FA7B">hello</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">sergiy</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">&lt;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">&gt;</span></span></code></pre>
<p>When we rebuild our script (npm run build), run the app, and open the main page, we will see the following string in the console panel of our browser:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span>Hello, Sergiy</span></span></code></pre>
<h2 id="watch-mode">Watch mode</h2>
<p>It’s unnecessary to run the build command each time you change something in your script or add a new package to your project. Instead, you can use the watch mode once, and WebPack will re-build your project every time something was changed:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#50FA7B">npm</span><span style="color:#F1FA8C"> run</span><span style="color:#F1FA8C"> watch</span></span></code></pre>
<h2 id="conclusions">Conclusions</h2>
<p>As we can see, using TypeScript with WebPack to build vanilla JS client-side scripts for your ASP.NET Core projects has a lot of benefits:</p>
<ul>
<li>Strong-typed TypeScript code with all advantages of the latest JavaScript features: classes, arrow functions, modules, scopes, and promises.</li>
<li>Better support by code editors (like Visual Studio Code) with syntax highlighting, IntelliSense, etc.</li>
<li>A possibility to use 3-party libraries with typing definitions.</li>
<li>More compact and optimized JS 5 code generated by WebPack.</li>
<li>Hot reload of the changes you make in the code editor.</li>
<li>Better debugging experience (I’m going to write a separate article about it). It’s possible to debug your original TypeScript code instead of minimized JS code available for your web app.</li>
</ul>
<p>There is one more note. We used WebPack in this article since it’s the most popular module bundler for now. However, I believe that we can quickly get the same results with any other bundler like Browserify, Parcel, or Rollup.</p>
<p>Please let me know (via my Twitter account @korzhs or here in the comments) if this article was valuable and informative for you.</p>
<p>Happy coding!</p>

                        </div>
                    </div>
                </div>
                <div class="cell-md-3">
                    <div class="sidebar border-left bd-default pl-4 pr-4">
                        <div>
                            <div class="text-bold enlarge-1 border-bottom bd-default">Table of Contents</div>
                            <nav class="toc">
    <ul>
        <li>
    <a href="#motivation">
        Motivation
    </a>
    
</li><li>
    <a href="#solution">
        Solution
    </a>
    
</li><li>
    <a href="#getting-started">
        Getting started
    </a>
    <ul>
                <li>
    <a href="#0-install-nodejs">
        0. Install Node.JS
    </a>
    
</li><li>
    <a href="#1-clientscript-sub-folder">
        1. ClientScript sub-folder
    </a>
    
</li><li>
    <a href="#2-add-configuration-files">
        2. Add configuration files
    </a>
    
</li><li>
    <a href="#3-add-typescript-files">
        3. Add TypeScript files
    </a>
    <ul>
                <li>
    <a href="#hellots">
        hello.ts
    </a>
    
</li><li>
    <a href="#indexts">
        index.ts
    </a>
    
</li>
            </ul>
</li><li>
    <a href="#4-build-your-library">
        4. Build your library
    </a>
    
</li><li>
    <a href="#5-attach-the-final-script-to-your-app">
        5. Attach the final script to your app
    </a>
    
</li>
            </ul>
</li><li>
    <a href="#configuring-the-scope">
        Configuring the scope
    </a>
    <ul>
                <li>
    <a href="#1-use-module-names-and-their-aliases">
        1. Use module names and their aliases
    </a>
    
</li><li>
    <a href="#2-using-namespace-clause">
        2. Using namespace clause
    </a>
    
</li>
            </ul>
</li><li>
    <a href="#using-third-party-libraries">
        Using third-party libraries
    </a>
    <ul>
                <li>
    <a href="#1-add-lodash-library-to-your-packagejson">
        1. Add lodash library to your package.json
    </a>
    
</li><li>
    <a href="#2-import-lodash-functions-in-your-hellots-file">
        2. Import lodash functions in your hello.ts file
    </a>
    
</li><li>
    <a href="#3-modify-hello-function">
        3. Modify hello() function
    </a>
    
</li>
            </ul>
</li><li>
    <a href="#watch-mode">
        Watch mode
    </a>
    
</li><li>
    <a href="#conclusions">
        Conclusions
    </a>
    
</li>
    </ul>
</nav>
                        </div>
                        <div class="mt-6">
                            <div class="text-bold border-bottom bd-default">Related posts</div>
                            <div class="reduce-1 text-muted">No posts</div>
                        </div>
                        <div class="mt-6">
                            <div class="text-bold border-bottom bd-default">Recent posts</div>
                            <ul class="post-links">
    <li class="post-link"><a class="link-to-post" href="/blog/aspnet-identity-store-user-data-in-claims">ASP.NET Identity - Use claims to store additional user&#39;s data</a></li><li class="post-link"><a class="link-to-post" href="/blog/aspnet-identity-weakening-password-policies">ASP.NET Identity - Weakening password policies</a></li><li class="post-link"><a class="link-to-post" href="/blog/aspnet-identity-migrate-membership-passwords">ASP.NET Identity - Migrating users&#39; passwords from ASP.NET Membership</a></li><li class="post-link"><a class="link-to-post" href="/blog/aspnet-identity-master-password">ASP.NET Identity - Adding master password</a></li><li class="post-link"><a class="link-to-post" href="/blog/embedded-resources-testing-projects">Using embedded resources in testing projects</a></li>
</ul>
                        </div>
                        <div class="mt-6">
                            <div class="text-bold border-bottom bd-default">Tags</div>
                            <div class="mt-1">
                                <a class="tag" href="/blog/tags/ASP-NET-CORE">ASP-NET-CORE</a><a class="tag" href="/blog/tags/JAVASCRIPT">JAVASCRIPT</a><a class="tag" href="/blog/tags/TYPESCRIPT">TYPESCRIPT</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    </main>

    <footer class="container-fluid mt-auto">
    <div class="container">
        <ul class="footer__menu">
            <li><a href="/">HOME</a></li>
            <li><a href="/easyquery">EASYQUERY.NET</a></li>
            <li><a href="/metroui">METRO UI</a></li>
            <li><a href="/localizer">LOCALIZER</a></li>
            <li><a href="/blog">BLOG</a></li>
            <li><a href="/support">SUPPORT</a></li>
            <li><a href="/resellers">RESELLERS FAQ</a></li>
            <li><a href="/account">YOUR ACCOUNT</a></li>
            <li><a href="/privacy">PRIVACY</a></li>
            <li><a href="/terms-of-use">TERMS OF USE</a></li>
        </ul>

        <hr class="mt-10 mb-10 thin">

        <div class="d-flex flex-column flex-align-center">
            <div>1998-2023 &copy; Korzh.com. Made in Ukraine. All Rights Reserved.</div>
            <div class="mute-text">All product names, logos, and brands are the property of their respective owners.</div>
            <div>
                Site built with <a class="fg-yellow no-decor" href="/metroui">Metro UI</a>. Powered by <a class="fg-yellow no-decor" href="https://astro.build">Astro</a>.
            </div>
        </div>
    </div>
</footer>

    
</body>
</html>